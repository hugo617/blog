<!-- LottieFiles 风格头部 - LottieFiles Style Header -->
<header class="header lottiefiles-header" id="header">
    <div class="header-content">
        <!-- Logo -->
        <div class="logo-container">
            <div class="logo">
                <span class="logo-icon">⚡</span>
                <span class="logo-text">AURORA</span>
            </div>
        </div>

        <!-- LottieFiles 风格主导航 - LottieFiles Style Main Navigation -->
        <nav class="main-navigation" role="navigation" aria-label="Primary navigation">
            <!-- Discover 下拉菜单 - Discover Dropdown -->
            <div class="nav-item dropdown-nav" data-dropdown="discover">
                <button class="nav-trigger" aria-expanded="false">
                    <span>Discover</span>
                    <svg class="nav-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m6 9 6 6 6-6"/>
                    </svg>
                </button>
                <div class="nav-dropdown" data-dropdown-menu="discover">
                    <div class="dropdown-content">
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Browse</h4>
                            <div class="dropdown-links">
                                <%= link_to posts_path, class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.work') %></span>
                                        <span class="link-desc">Explore creative posts</span>
                                    </div>
                                    <span class="link-badge">Free</span>
                                <% end %>
                                <%= link_to "#featured", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Featured</span>
                                        <span class="link-desc">Curated collections</span>
                                    </div>
                                <% end %>
                                <%= link_to "#trending", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Trending</span>
                                        <span class="link-desc">Popular content</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Categories</h4>
                            <div class="dropdown-links">
                                <%= link_to "#", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">UI/UX</span>
                                        <span class="link-desc">Interface animations</span>
                                    </div>
                                <% end %>
                                <%= link_to "#", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Icons</span>
                                        <span class="link-desc">Animated icons</span>
                                    </div>
                                <% end %>
                                <%= link_to "#", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Illustrations</span>
                                        <span class="link-desc">Motion graphics</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Create 下拉菜单 - Create Dropdown -->
            <div class="nav-item dropdown-nav" data-dropdown="create">
                <button class="nav-trigger" aria-expanded="false">
                    <span>Create</span>
                    <svg class="nav-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m6 9 6 6 6-6"/>
                    </svg>
                </button>
                <div class="nav-dropdown" data-dropdown-menu="create">
                    <div class="dropdown-content">
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Tools</h4>
                            <div class="dropdown-links">
                                <% if user_signed_in? %>
                                    <%= link_to new_post_path, class: "dropdown-link" do %>
                                        <div class="link-content">
                                            <span class="link-title"><%= t('navigation.new_post') %></span>
                                            <span class="link-desc">Write a new article</span>
                                        </div>
                                    <% end %>
                                <% end %>
                                <%= link_to "#editor", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Animation Editor</span>
                                        <span class="link-desc">Create animations</span>
                                    </div>
                                <% end %>
                                <%= link_to "#converter", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">File Converter</span>
                                        <span class="link-desc">Convert formats</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Resources</h4>
                            <div class="dropdown-links">
                                <%= link_to "#templates", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Templates</span>
                                        <span class="link-desc">Ready-to-use designs</span>
                                    </div>
                                <% end %>
                                <%= link_to "#plugins", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Plugins</span>
                                        <span class="link-desc">Design tool integrations</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Learn 下拉菜单 - Learn Dropdown -->
            <div class="nav-item dropdown-nav" data-dropdown="learn">
                <button class="nav-trigger" aria-expanded="false">
                    <span>Learn</span>
                    <svg class="nav-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m6 9 6 6 6-6"/>
                    </svg>
                </button>
                <div class="nav-dropdown" data-dropdown-menu="learn">
                    <div class="dropdown-content">
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Education</h4>
                            <div class="dropdown-links">
                                <%= link_to "#blog", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Blog</span>
                                        <span class="link-desc">Latest articles & tips</span>
                                    </div>
                                <% end %>
                                <%= link_to "#tutorials", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Tutorials</span>
                                        <span class="link-desc">Step-by-step guides</span>
                                    </div>
                                <% end %>
                                <%= link_to "#webinars", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Webinars</span>
                                        <span class="link-desc">Live learning sessions</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Community</h4>
                            <div class="dropdown-links">
                                <%= link_to "#about", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.about') %></span>
                                        <span class="link-desc">Our story & mission</span>
                                    </div>
                                <% end %>
                                <%= link_to "#contact", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.contact') %></span>
                                        <span class="link-desc">Get in touch</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pricing 单独链接 - Pricing Single Link -->
            <div class="nav-item">
                <%= link_to "#pricing", class: "nav-link" do %>
                    Pricing
                <% end %>
            </div>
        </nav>

        <!-- 右侧操作区域 - Right Side Actions -->
        <div class="header-actions">
            <!-- 搜索按钮 - Search Button -->
            <button class="action-btn search-btn" aria-label="Search" data-search-trigger>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                </svg>
            </button>

            <!-- 主题切换 - Theme Toggle -->
            <button class="action-btn theme-btn" id="theme-toggle" aria-label="Toggle theme">
                <span class="theme-icon dark-icon">🌙</span>
                <span class="theme-icon light-icon">☀️</span>
            </button>

            <!-- LottieFiles 风格语言选择器 - LottieFiles Style Language Selector -->
            <div class="language-selector" data-language-selector>
                <button class="language-trigger" aria-expanded="false">
                    <span class="language-flag">🌐</span>
                    <span class="language-code" data-current-lang>EN</span>
                    <svg class="language-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m6 9 6 6 6-6"/>
                    </svg>
                </button>
                <div class="language-dropdown">
                    <div class="language-dropdown-header">
                        <h4 class="language-dropdown-title">Choose Language</h4>
                    </div>
                    <div class="language-options">
                        <a href="?locale=en" class="language-option active" data-lang="en">
                            <span class="language-option-flag">🇺🇸</span>
                            <div class="language-option-content">
                                <div class="language-option-name">English</div>
                                <div class="language-option-native">English</div>
                            </div>
                        </a>
                        <a href="?locale=zh" class="language-option" data-lang="zh">
                            <span class="language-option-flag">🇨🇳</span>
                            <div class="language-option-content">
                                <div class="language-option-name">Chinese</div>
                                <div class="language-option-native">中文</div>
                            </div>
                        </a>
                        <a href="?locale=ja" class="language-option" data-lang="ja">
                            <span class="language-option-flag">🇯🇵</span>
                            <div class="language-option-content">
                                <div class="language-option-name">Japanese</div>
                                <div class="language-option-native">日本語</div>
                            </div>
                        </a>
                        <a href="?locale=ko" class="language-option" data-lang="ko">
                            <span class="language-option-flag">🇰🇷</span>
                            <div class="language-option-content">
                                <div class="language-option-name">Korean</div>
                                <div class="language-option-native">한국어</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <!-- 用户认证区域 - User Authentication Area -->
            <% if user_signed_in? %>
                <div class="user-menu dropdown-nav" data-dropdown="user">
                    <button class="user-avatar nav-trigger" aria-expanded="false">
                        <%= current_user.display_name.first.upcase %>
                    </button>
                    <div class="nav-dropdown user-dropdown" data-dropdown-menu="user">
                        <div class="dropdown-content">
                            <div class="user-info">
                                <div class="user-name"><%= current_user.display_name %></div>
                                <div class="user-email"><%= current_user.email %></div>
                            </div>
                            <div class="dropdown-divider"></div>
                            <div class="dropdown-links">
                                <%= link_to edit_user_registration_path, class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.profile') %></span>
                                    </div>
                                <% end %>
                                <%= link_to new_post_path, class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.new_post') %></span>
                                    </div>
                                <% end %>
                                <div class="dropdown-divider"></div>
                                <%= link_to destroy_user_session_path, method: :delete, class: "dropdown-link sign-out" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.sign_out') %></span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                    </div>
                </div>
            <% else %>
                <div class="auth-buttons">
                    <%= link_to t('navigation.sign_in'), new_user_session_path, class: "btn-secondary" %>
                    <%= link_to t('navigation.sign_up'), new_user_registration_path, class: "btn-primary" %>
                </div>
            <% end %>
        </div>
    </div>

    <!-- Mobile Menu Toggle -->
    <!-- The hamburger menu uses CSS animations for smooth transitions -->
    <button class="hamburger" id="menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
        <div class="hamburger-inner"></div>
    </button>
</header>

<!-- LottieFiles 风格搜索模态 - LottieFiles Style Search Modal -->
<div class="search-modal" data-search-modal>
    <div class="search-container">
        <div class="search-header">
            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.35-4.35"/>
            </svg>
            <input type="text" class="search-input" placeholder="Search animations, icons, illustrations..." data-search-input>
            <button class="search-close" data-search-close>ESC</button>
        </div>

        <div class="search-results" data-search-results>
            <!-- 搜索建议 - Search Suggestions -->
            <div class="search-section">
                <div class="search-section-title">Popular Searches</div>
                <div class="search-items">
                    <a href="#" class="search-item">
                        <div class="search-item-icon">🔥</div>
                        <div class="search-item-content">
                            <div class="search-item-title">Loading animations</div>
                            <div class="search-item-desc">Spinners, progress bars, and loaders</div>
                        </div>
                        <span class="search-item-badge">Hot</span>
                    </a>
                    <a href="#" class="search-item">
                        <div class="search-item-icon">💫</div>
                        <div class="search-item-content">
                            <div class="search-item-title">UI interactions</div>
                            <div class="search-item-desc">Buttons, toggles, and micro-interactions</div>
                        </div>
                    </a>
                    <a href="#" class="search-item">
                        <div class="search-item-icon">🎨</div>
                        <div class="search-item-content">
                            <div class="search-item-title">Illustrations</div>
                            <div class="search-item-desc">Characters, scenes, and graphics</div>
                        </div>
                    </a>
                </div>
            </div>

            <!-- 最近搜索 - Recent Searches -->
            <div class="search-section">
                <div class="search-section-title">Recent</div>
                <div class="search-items">
                    <a href="#" class="search-item">
                        <div class="search-item-icon">🕒</div>
                        <div class="search-item-content">
                            <div class="search-item-title">Blog posts</div>
                            <div class="search-item-desc">Latest articles and tutorials</div>
                        </div>
                    </a>
                    <a href="#" class="search-item">
                        <div class="search-item-icon">📚</div>
                        <div class="search-item-content">
                            <div class="search-item-title">Tutorials</div>
                            <div class="search-item-desc">Step-by-step guides</div>
                        </div>
                    </a>
                </div>
            </div>
        </div>

        <div class="search-footer">
            <div class="search-shortcuts">
                <div class="search-shortcut">
                    <span class="search-key">↑</span>
                    <span class="search-key">↓</span>
                    <span>Navigate</span>
                </div>
                <div class="search-shortcut">
                    <span class="search-key">↵</span>
                    <span>Select</span>
                </div>
                <div class="search-shortcut">
                    <span class="search-key">ESC</span>
                    <span>Close</span>
                </div>
            </div>
            <div>
                <span class="search-key">⌘</span>
                <span class="search-key">K</span>
                <span>to search</span>
            </div>
        </div>
    </div>
</div>
