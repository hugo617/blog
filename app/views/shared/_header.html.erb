<!-- LottieFiles 风格头部 - LottieFiles Style Header -->
<header class="header lottiefiles-header" id="header">
    <div class="header-content">
        <!-- Logo -->
        <div class="logo-container">
            <div class="logo">
                <span class="logo-icon">⚡</span>
                <span class="logo-text">AURORA</span>
            </div>
        </div>

        <!-- LottieFiles 风格主导航 - LottieFiles Style Main Navigation -->
        <nav class="main-navigation" role="navigation" aria-label="Primary navigation">
            <!-- Discover 下拉菜单 - Discover Dropdown -->
            <div class="nav-item dropdown-nav" data-dropdown="discover">
                <button class="nav-trigger" aria-expanded="false">
                    <span>Discover</span>
                    <svg class="nav-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m6 9 6 6 6-6"/>
                    </svg>
                </button>
                <div class="nav-dropdown" data-dropdown-menu="discover">
                    <div class="dropdown-content">
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Browse</h4>
                            <div class="dropdown-links">
                                <%= link_to posts_path, class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.work') %></span>
                                        <span class="link-desc">Explore creative posts</span>
                                    </div>
                                    <span class="link-badge">Free</span>
                                <% end %>
                                <%= link_to "#featured", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Featured</span>
                                        <span class="link-desc">Curated collections</span>
                                    </div>
                                <% end %>
                                <%= link_to "#trending", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Trending</span>
                                        <span class="link-desc">Popular content</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Categories</h4>
                            <div class="dropdown-links">
                                <%= link_to "#", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">UI/UX</span>
                                        <span class="link-desc">Interface animations</span>
                                    </div>
                                <% end %>
                                <%= link_to "#", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Icons</span>
                                        <span class="link-desc">Animated icons</span>
                                    </div>
                                <% end %>
                                <%= link_to "#", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Illustrations</span>
                                        <span class="link-desc">Motion graphics</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Create 下拉菜单 - Create Dropdown -->
            <div class="nav-item dropdown-nav" data-dropdown="create">
                <button class="nav-trigger" aria-expanded="false">
                    <span>Create</span>
                    <svg class="nav-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m6 9 6 6 6-6"/>
                    </svg>
                </button>
                <div class="nav-dropdown" data-dropdown-menu="create">
                    <div class="dropdown-content">
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Tools</h4>
                            <div class="dropdown-links">
                                <% if user_signed_in? %>
                                    <%= link_to new_post_path, class: "dropdown-link" do %>
                                        <div class="link-content">
                                            <span class="link-title"><%= t('navigation.new_post') %></span>
                                            <span class="link-desc">Write a new article</span>
                                        </div>
                                    <% end %>
                                <% end %>
                                <%= link_to "#editor", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Animation Editor</span>
                                        <span class="link-desc">Create animations</span>
                                    </div>
                                <% end %>
                                <%= link_to "#converter", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">File Converter</span>
                                        <span class="link-desc">Convert formats</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Resources</h4>
                            <div class="dropdown-links">
                                <%= link_to "#templates", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Templates</span>
                                        <span class="link-desc">Ready-to-use designs</span>
                                    </div>
                                <% end %>
                                <%= link_to "#plugins", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Plugins</span>
                                        <span class="link-desc">Design tool integrations</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Learn 下拉菜单 - Learn Dropdown -->
            <div class="nav-item dropdown-nav" data-dropdown="learn">
                <button class="nav-trigger" aria-expanded="false">
                    <span>Learn</span>
                    <svg class="nav-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m6 9 6 6 6-6"/>
                    </svg>
                </button>
                <div class="nav-dropdown" data-dropdown-menu="learn">
                    <div class="dropdown-content">
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Education</h4>
                            <div class="dropdown-links">
                                <%= link_to "#blog", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Blog</span>
                                        <span class="link-desc">Latest articles & tips</span>
                                    </div>
                                <% end %>
                                <%= link_to "#tutorials", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Tutorials</span>
                                        <span class="link-desc">Step-by-step guides</span>
                                    </div>
                                <% end %>
                                <%= link_to "#webinars", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title">Webinars</span>
                                        <span class="link-desc">Live learning sessions</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Community</h4>
                            <div class="dropdown-links">
                                <%= link_to "#about", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.about') %></span>
                                        <span class="link-desc">Our story & mission</span>
                                    </div>
                                <% end %>
                                <%= link_to "#contact", class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.contact') %></span>
                                        <span class="link-desc">Get in touch</span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pricing 单独链接 - Pricing Single Link -->
            <div class="nav-item">
                <%= link_to "#pricing", class: "nav-link" do %>
                    Pricing
                <% end %>
            </div>
        </nav>

        <!-- 右侧操作区域 - Right Side Actions -->
        <div class="header-actions">
            <!-- LottieFiles 风格搜索框 - LottieFiles Style Search Box -->
            <div class="search-container-inline" data-search-container>
                <svg class="search-icon-inline" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                </svg>
                <input type="text" class="search-input-inline" placeholder="Search for animations..." data-search-input>
                <div class="search-filter" data-search-filter>
                    <span>Free & Premium</span>
                    <svg class="search-filter-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m6 9 6 6 6-6"/>
                    </svg>
                </div>

                <!-- 搜索下拉建议 - Search Dropdown Suggestions -->
                <div class="search-dropdown" data-search-dropdown>
                    <div class="search-suggestions">
                        <div class="search-section-inline">
                            <h4 class="search-section-title-inline">Trending</h4>
                            <div class="trending-tags">
                                <a href="#" class="trending-tag">
                                    <span class="trending-tag-icon">📈</span>
                                    <span>loading</span>
                                </a>
                                <a href="#" class="trending-tag">
                                    <span class="trending-tag-icon">📈</span>
                                    <span>success</span>
                                </a>
                                <a href="#" class="trending-tag">
                                    <span class="trending-tag-icon">📈</span>
                                    <span>confetti</span>
                                </a>
                                <a href="#" class="trending-tag">
                                    <span class="trending-tag-icon">📈</span>
                                    <span>ai</span>
                                </a>
                                <a href="#" class="trending-tag">
                                    <span class="trending-tag-icon">📈</span>
                                    <span>arrow</span>
                                </a>
                            </div>
                        </div>

                        <div class="search-section-inline">
                            <h4 class="search-section-title-inline">Premium</h4>
                            <div class="premium-categories">
                                <a href="#" class="premium-category">
                                    <div class="premium-category-icon">💳</div>
                                    <div class="premium-category-content">
                                        <div class="premium-category-title">Finance</div>
                                    </div>
                                </a>
                                <a href="#" class="premium-category">
                                    <div class="premium-category-icon">👥</div>
                                    <div class="premium-category-content">
                                        <div class="premium-category-title">Icons</div>
                                    </div>
                                </a>
                                <a href="#" class="premium-category">
                                    <div class="premium-category-icon">🎮</div>
                                    <div class="premium-category-content">
                                        <div class="premium-category-title">Gaming</div>
                                    </div>
                                </a>
                                <a href="#" class="premium-category">
                                    <div class="premium-category-icon">🤝</div>
                                    <div class="premium-category-content">
                                        <div class="premium-category-title">Business</div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- LottieFiles 风格语言选择器 - LottieFiles Style Language Selector -->
            <div class="language-selector-lottie" data-language-selector>
                <button class="language-trigger-lottie" aria-expanded="false">
                    <span class="language-icon-lottie">🌐</span>
                    <span class="language-code-lottie" data-current-lang>En</span>
                    <svg class="language-arrow-lottie" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m6 9 6 6 6-6"/>
                    </svg>
                </button>
                <div class="language-dropdown-lottie">
                    <div class="language-options-lottie">
                        <a href="?locale=en" class="language-option-lottie active" data-lang="en">
                            <span class="language-option-text">English</span>
                        </a>
                        <a href="?locale=es" class="language-option-lottie" data-lang="es">
                            <span class="language-option-text">Español</span>
                        </a>
                        <a href="?locale=pt" class="language-option-lottie" data-lang="pt">
                            <span class="language-option-text">Português</span>
                        </a>
                        <a href="?locale=ko" class="language-option-lottie" data-lang="ko">
                            <span class="language-option-text">한국어</span>
                        </a>
                        <a href="?locale=ja" class="language-option-lottie" data-lang="ja">
                            <span class="language-option-text">日本</span>
                        </a>
                        <a href="?locale=fr" class="language-option-lottie" data-lang="fr">
                            <span class="language-option-text">Français</span>
                        </a>
                        <a href="?locale=de" class="language-option-lottie" data-lang="de">
                            <span class="language-option-text">Deutsch</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- 用户认证区域 - User Authentication Area -->
            <% if user_signed_in? %>
                <div class="user-menu dropdown-nav" data-dropdown="user">
                    <button class="user-avatar nav-trigger" aria-expanded="false">
                        <%= current_user.display_name.first.upcase %>
                    </button>
                    <div class="nav-dropdown user-dropdown" data-dropdown-menu="user">
                        <div class="dropdown-content">
                            <div class="user-info">
                                <div class="user-name"><%= current_user.display_name %></div>
                                <div class="user-email"><%= current_user.email %></div>
                            </div>
                            <div class="dropdown-divider"></div>
                            <div class="dropdown-links">
                                <%= link_to edit_user_registration_path, class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.profile') %></span>
                                    </div>
                                <% end %>
                                <%= link_to new_post_path, class: "dropdown-link" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.new_post') %></span>
                                    </div>
                                <% end %>
                                <div class="dropdown-divider"></div>
                                <%= link_to destroy_user_session_path, method: :delete, class: "dropdown-link sign-out" do %>
                                    <div class="link-content">
                                        <span class="link-title"><%= t('navigation.sign_out') %></span>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                    </div>
                </div>
            <% else %>
                <div class="auth-buttons">
                    <%= link_to t('navigation.sign_in'), new_user_session_path, class: "btn-secondary" %>
                    <%= link_to t('navigation.sign_up'), new_user_registration_path, class: "btn-primary" %>
                </div>
            <% end %>
        </div>
    </div>

    <!-- Mobile Menu Toggle -->
    <!-- The hamburger menu uses CSS animations for smooth transitions -->
    <button class="hamburger" id="menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
        <div class="hamburger-inner"></div>
    </button>
</header>


