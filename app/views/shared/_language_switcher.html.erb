<!-- è¯­è¨€åˆ‡æ¢å™¨ç»„ä»¶ - Language Switcher Component -->
<!-- æ»‘åŠ¨å¼è¯­è¨€åˆ‡æ¢ç•Œé¢ï¼Œæ”¯æŒä¸­è‹±åŒè¯­ - Sliding language switcher interface supporting Chinese and English -->
<div class="language-switcher-container" title="<%= t('navigation.language') %>">
  <div class="language-switcher-wrapper">
    <!-- æ»‘åŠ¨èƒŒæ™¯ - Sliding background -->
    <div class="language-switcher-slider <%= 'active-zh' if I18n.locale == :zh %>"></div>
    
    <!-- è¯­è¨€é€‰é¡¹ - Language options -->
    <div class="language-option <%= 'active' if I18n.locale == :en %>" data-locale="en">
      <%= link_to switch_locale_path(locale: :en), 
          class: "language-link", 
          title: "Switch to English",
          data: { locale: "en" } do %>
        <span class="language-text">EN</span>
      <% end %>
    </div>
    
    <div class="language-option <%= 'active' if I18n.locale == :zh %>" data-locale="zh">
      <%= link_to switch_locale_path(locale: :zh), 
          class: "language-link", 
          title: "åˆ‡æ¢åˆ°ä¸­æ–‡",
          data: { locale: "zh" } do %>
        <span class="language-text">ä¸­</span>
      <% end %>
    </div>
  </div>
  
  <!-- å½“å‰è¯­è¨€æŒ‡ç¤ºå™¨ - Current language indicator -->
  <div class="language-indicator">
    <span class="current-language">
      <%= I18n.locale == :zh ? 'ä¸­æ–‡' : 'English' %>
    </span>
  </div>
</div>

<!-- ç§»åŠ¨ç«¯è¯­è¨€åˆ‡æ¢å™¨ - Mobile language switcher -->
<div class="mobile-language-switcher">
  <div class="mobile-language-dropdown">
    <button class="mobile-language-trigger" id="mobile-language-trigger">
      <span class="current-flag">
        <%= I18n.locale == :zh ? 'ðŸ‡¨ðŸ‡³' : 'ðŸ‡ºðŸ‡¸' %>
      </span>
      <span class="current-lang-text">
        <%= I18n.locale == :zh ? 'ä¸­æ–‡' : 'English' %>
      </span>
      <svg class="dropdown-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="m6 9 6 6 6-6"/>
      </svg>
    </button>
    
    <div class="mobile-language-menu" id="mobile-language-menu">
      <% if I18n.locale != :en %>
        <%= link_to switch_locale_path(locale: :en), class: "mobile-language-item" do %>
          <span class="flag">ðŸ‡ºðŸ‡¸</span>
          <span class="lang-text">English</span>
        <% end %>
      <% end %>
      
      <% if I18n.locale != :zh %>
        <%= link_to switch_locale_path(locale: :zh), class: "mobile-language-item" do %>
          <span class="flag">ðŸ‡¨ðŸ‡³</span>
          <span class="lang-text">ä¸­æ–‡</span>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
